SHELL := /bin/bash

.PHONY: start dev stop install clean

# Backend'i baÅŸlat
start:
	@echo "ðŸš€ Backend baÅŸlatÄ±lÄ±yor..."
	@source ../venv/bin/activate && uvicorn api.main:app --host 0.0.0.0 --port 8000

# Development mode (hot reload)
dev:
	@echo "ðŸ”¥ Backend baÅŸlatÄ±lÄ±yor (hot reload)..."
	@source ../venv/bin/activate && uvicorn api.main:app --host 0.0.0.0 --port 8000 --reload

# Backend'i durdur
stop:
	@echo "ðŸ›‘ Backend durduruluyor..."
	@pkill -f "uvicorn api.main:app" || echo "Backend zaten durmuÅŸ"

# Dependencies kur
install:
	@echo "ðŸ“¦ Dependencies kuruluyor..."
	@source ../venv/bin/activate && pip install -r requirements.txt

# Cache temizle
clean:
	@echo "ðŸ§¹ Cache temizleniyor..."
	@find . -type d -name "__pycache__" -exec rm -rf {} + 2>/dev/null || true
	@find . -type f -name "*.pyc" -delete 2>/dev/null || true
